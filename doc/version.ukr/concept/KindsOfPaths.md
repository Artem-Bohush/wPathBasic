# Види шляхів
`Шлях` - набір символів, що показує розташування файлу або каталогу в файловій системі.

**Шляхи бувають:**

- `глобальними` або `локальними`
- `абсолютними` або `відносними`
- `канонічними`, `нормальними` або `ненормальними`

### Глобальний шлях
Це абсолютний або відносний шлях до файлу чи директорії, який обов'язково містить на початку назву протоколу.

Протокол відділяється від решти шляху за допомогою `://`. 
Загальний вигляд глобального шляху -  `<protocolName>://path/to/file.txt`. Назва протоколу може бути порожнім рядком, тобто
шлях вигляду - `://path/to/file.txt`, є глобальним та абсолютно валідним.
```
file://localhost/c:/WINDOWS/clock.avi
```

```
example
```

### Локальний шлях
Це абсолютний або відносний шлях до файлу чи директорії, який не містить назви протоколу.
```
localhost/c:/WINDOWS/clock.avi
```

### Абсолютний шлях
Це шлях, який починається із кореневої директорії. 

Кореневою директорією в операційних системах UNIX є "/", у Windows - "C:\\".
```
/boot/grub/grub.conf
C:\Projects\apilibrary\apilibrary.sln
```

### Відносний шлях

Це шлях, який визначає місце розташування файлу чи директорії відносно іншого файла.

Відносний шлях ніколи не починається із кореневої директорії.
```
grub/grub.conf
apilibrary\apilibrary.sln
```

### Приклади шляхів

Необхідно вказати на файл - /home/john/doc/myFile.txt

||Абсолютний|Відносний|
|:-:|:-:|:-:|
|Глобальний|file:///home/john/doc/myFile.txt|file://doc/myFile.txt|
|Локальний|/home/john/doc/myFile.txt|doc/myFile.txt|

<!--  -->

### Нормальний шлях

Це шлях, який має нормалізований (стандартизований) вигляд.

`Нормалізація` шляху - це процес, при якому шлях послідовно змінюється та стандартизується.
Мета процесу `нормалізації` - привести шлях в `нормалізований` вигляд, щоб можна було визначити, чи можуть два синтаксично
різні шляхи бути еквівалентними.

Рутина `normalize` нормалізує шлях, шляхом видалення надлишкових роздільників, опрацюванням '..' та '.' сегментів так,
що A//B, A/./B та A/foo/../B - всі приводяться до A/B.

Видалення комбінації "." та "..":
```js
let path = 'https://web.archive.org/web/*\/http://www.heritage.org/.././index/ranking/./.';
console.log( _.uri.normalize( path ) ); 
// https://web.archive.org/web/*\/http://index/ranking
```
Видалення ".." та директорії перед ним:
```js
let path = '/foo/bar//baz1/baz2//some/..';
console.log( _.uri.normalize( path ) ); 
// /foo/bar//baz1/baz2/
```
Заміна "\\" на "/":
```js
let path = 'C:\\Projects\\apilibrary\\index.html\\..\\';
console.log( _.uri.normalize( path ) ); 
// /C/Projects/apilibrary/
```

### Нативний шлях

Це шлях, яким має вигляд, характерний для конкретної операційної системи.

Мета процесу `нативізації` полягає в приведенні шляху в нативізований вигляд, з тим, щоб 
визначити еквівалентний шлях в ОС на якій виконується процес, до заданого.

Рутина `nativize` виконує нативізацію шляхів, як показано нижче.

Якщо нативізація виконується на Windows, то в результаті:

абсолютні шляхи починаються - <root\>:\\dir\\...
```js
// process.platform === 'win32'
let path = '/C/Documents/Newsletters/Summer2018.pdf';
console.log( _.uri.nativize( path ) ); 
// C:\Documents\Newsletters\Summer2018.pdf
```
"/" заміняються на "\\":
```js
// process.platform === 'win32'
let path = '/Documents/Newsletters/Summer2018.pdf';
console.log( _.uri.nativize( path ) ); 
// \Documents\Newsletters\Summer2018.pdf
```
Виконання нативізації на ОС відмінній від Windows не призводить до жодних змін шляху.
```js
// process.platform !== 'win32'
let path = '/home/mthomas/class_stuff/foo';
console.log( _.uri.nativize( path ) ); 
// /home/mthomas/class_stuff/foo
```

### Канонічний шлях

Це шлях, який заданий у канонічній (стандартизованій) формі.

`Канонізація` шляху - це процес аналогічний до нормалізації, проте шлях у канонічній формі є більш строгим та простим.
Рутина `canonize` опрацьовує шлях аналогічно рутині `normalize`, проте повертає шлях без "/" у кінці, якщо він вказує на
директорію.

Видалення "\\" у кінці шляху:
```js
path = '/C:\\temp\\\\foo\\bar\\';
console.log( _.uri.canonize( path ) ); 
// /C:/temp//foo/bar
```
Видалення ".." із директорією перед ним та "/" у кінці шляху:
```js
let path = '/C:\\temp\\\\foo\\\\bar\\..\\';
console.log( _.uri.canonize( path ) ); 
// /C:/temp//foo
```
Видалення "." та "/" у кінці шляху:
```js
let path = 'foo/././bar/././baz/';
console.log( _.uri.canonize( path ) ); 
// foo/bar/baz
```

[Повернутись до змісту](../README.md#концепції)
